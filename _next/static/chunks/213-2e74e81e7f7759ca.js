"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{409:(e,n,t)=>{t.d(n,{A:()=>a});function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=window;try{t.gtag("event",e,n)}catch(e){console.log("error sending gtag event",e)}}},1213:(e,n,t)=>{t.d(n,{A:()=>x});var a=t(7876),l=t(3679),o=t(4679),r=t(6336),s=t(1173),i=t(409);function c(e){var n,t,o,c,u,d;let{session:m,openAccountModal:g,navbarMode:x,inCrazyGames:p}=e,{t:b}=(0,s.B)("common");return!p||m&&(null==m||null==(n=m.token)?void 0:n.secret)?(0,a.jsx)(a.Fragment,{children:m&&(null==m||null==(t=m.token)?void 0:t.secret)?(0,a.jsx)("button",{className:"gameBtn ".concat(x?"navBtn":"accountBtn loggedIn"," ").concat((null==m||null==(c=m.token)?void 0:c.supporter)?"supporterBtn":""),onClick:()=>{g()},children:(null==m||null==(u=m.token)?void 0:u.username)?(0,a.jsx)("p",{style:{color:"white",paddingRight:"-13px",marginLeft:"0px",fontSize:"1.4em",fontWeight:700},children:null==m||null==(d=m.token)?void 0:d.username}):null}):(0,a.jsx)("button",{className:"gameBtn ".concat(x?"navBtn":"accountBtn"),disabled:p,onClick:()=>{null===m&&((0,i.A)("login_attempt"),(0,r.Jv)("google"))},children:(null==m||null==(o=m.token)?void 0:o.secret)||null===m?(0,a.jsx)("div",{style:{marginRight:"10px",marginLeft:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:p?(0,a.jsx)(a.Fragment,{children:"..."}):(0,a.jsxs)(a.Fragment,{children:[b("login"),"\xa0\xa0",(0,a.jsx)(l.DSS,{className:"home__squarebtnicon"})]})}):"..."})}):null}var u=t(6059),d=t(4250),m=t(4232);function g(e){let{connected:n,shown:t,onClick:l,connecting:o}=e,[r,s]=(0,m.useState)(!1),[i,c]=(0,m.useState)(!1),[g,x]=(0,m.useState)(!1),p=(0,m.useRef)(n),b=(0,m.useRef)(o),h=(0,m.useRef)(null),v=(0,m.useRef)(null),f=(0,m.useRef)(null);if((0,m.useEffect)(()=>{let e=p.current,t=b.current;(h.current&&(clearTimeout(h.current),h.current=null),v.current&&(clearTimeout(v.current),v.current=null),o)?t?(f.current?Date.now()-f.current:0)>=3e3&&(s(!0),c(!1),x(!1)):(f.current=Date.now(),s(!1),c(!1),x(!1),v.current=setTimeout(()=>{s(!0),c(!1),x(!0),setTimeout(()=>x(!1),400)},3e3)):n?n&&!e?(f.current?Date.now()-f.current:0)>=3e3?(s(!0),c(!1),x(!1),h.current=setTimeout(()=>{c(!0),setTimeout(()=>{s(!1),c(!1)},400)},1500)):(s(!0),c(!1),x(!1),h.current=setTimeout(()=>{c(!0),setTimeout(()=>{s(!1),c(!1)},400)},2e3)):n&&(s(!1),c(!1),x(!1)):(s(!0),c(!1),x(!0),setTimeout(()=>x(!1),400)),p.current=n,b.current=o},[n,o]),(0,m.useEffect)(()=>()=>{h.current&&clearTimeout(h.current),v.current&&clearTimeout(v.current)},[]),!t||!r)return null;let j=()=>n?"#22c55e":o?"#f59e0b":"#ef4444";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{id:"a7d97ecb79e7aa48",children:"@keyframes pulse-connect{0%,100%{transform:scale(1);box-shadow:0 4px 16px rgba(0,0,0,.4)}50%{transform:scale(1.05);box-shadow:0 6px 20px rgba(245,158,11,.6)}}@keyframes pulse-disconnect{0%,100%{box-shadow:0 4px 16px rgba(0,0,0,.4)}50%{box-shadow:0 6px 20px rgba(239,68,68,.6)}}"}),(0,a.jsx)("div",{onClick:l,style:{position:"fixed",top:"100px",right:i||g?"-85px":"15px",zIndex:1e4,width:"50px",height:"50px",borderRadius:"15px",backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:l?"pointer":"default",boxShadow:"0 4px 16px rgba(0,0,0,0.4)",transition:"right 0.4s ease-in-out, transform 0.4s ease-in-out, all 0.3s ease",border:"3px solid ".concat(j()),pointerEvents:"auto",animation:i||g?"none":o?"pulse-connect 1s ease-in-out infinite":n?"none":"pulse-disconnect 2s ease-in-out infinite",transform:g?"translateX(100px)":"translateX(0)"},onMouseEnter:e=>{o||(e.target.style.transform="scale(1.1)",e.target.style.boxShadow="0 6px 20px rgba(0,0,0,0.5)")},onMouseLeave:e=>{o||(e.target.style.transform="scale(1)",e.target.style.boxShadow="0 4px 16px rgba(0,0,0,0.4)")},title:n?"Connected to server":o?"Connecting to server...":"Connection lost - Click for details",className:"jsx-a7d97ecb79e7aa48",children:(0,a.jsx)(u._8$,{size:28,color:j()})})]})}function x(e){var n,t,r,i;let{maintenance:d,joinCodePress:x,inCrazyGames:p,inCoolMathGames:b,inGame:h,openAccountModal:v,shown:f,backBtnPressed:j,reloadBtnPressed:k,setGameOptionsModalShown:B,onNavbarPress:C,onFriendsPress:y,gameOptions:N,session:_,screen:w,multiplayerState:S,loading:R,gameOptionsModalShown:T,accountModalOpen:M,selectCountryModalShown:z,mapModalOpen:D,onConnectionError:F}=e,{t:G}=(0,s.B)("common"),E=((null==S?void 0:S.inGame)||"singleplayer"===w)&&!R&&!((null==S?void 0:S.inGame)&&(null==S||null==(n=S.gameData)?void 0:n.state)==="waiting"),[A,I]=(0,m.useState)(!0);return(0,m.useEffect)(()=>{window.location.search.includes("app=true")&&I(!1)},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"navbar ".concat(f?"":"hidden"," ").concat("home"==w?"":"navbarColor"," ").concat("onboarding"===w?"onboarding":""),children:[(0,a.jsxs)("div",{className:"nonHome ".concat("home"===w?"":"shown"),children:[!D&&(0,a.jsx)("h1",{className:"navbar__title desktop",onClick:C,children:"WorldGuessr"}),!D&&(0,a.jsx)("h1",{className:"navbar__title mobile",onClick:C,children:"WG"}),!T&&!M&&!z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"gameBtn navBtn backBtn g2_red_button desktop",onClick:j,children:G("back")}),(0,a.jsx)("button",{className:"gameBtn navBtn backBtn g2_red_button mobile",onClick:j,children:(0,a.jsx)(l.QVr,{})})]})]}),E&&!M&&!T&&(0,a.jsx)("button",{className:"gameBtn navBtn backBtn reloadBtn g2_blue_button",onClick:k,children:(0,a.jsx)(u.QpL,{})}),(0,a.jsx)(g,{connected:null==S?void 0:S.connected,connecting:null==S?void 0:S.connecting,shown:!0,onClick:(null==S?void 0:S.connected)?void 0:F}),"multiplayer"===w&&(null==S?void 0:S.inGame)&&(null==S||null==(t=S.gameData)?void 0:t.players.length)>0&&(0,a.jsxs)("span",{id:"playerCnt",className:"bigSpan",children:["\xa0 ",(0,a.jsx)(l.x$1,{})," ",S.gameData.players.length]}),(0,a.jsxs)("div",{className:"navbar__right",children:["singleplayer"===w&&!M&&(0,a.jsxs)("button",{className:"gameBtn navBtn g2_green_button g2_lexend",disabled:R,onClick:()=>B(!0),children:["all"!==N.location&&N.location?(null==N?void 0:N.countryMap)?(0,o.A)(N.location):null==N?void 0:N.communityMapName:G("allCountries"),N.nm&&N.npz?", NMPZ":N.nm?", NM":N.npz?", NPZ":"","\xa0",(0,a.jsx)(u.dgZ,{size:20})]}),"onboarding"===w&&(0,a.jsx)("button",{className:"gameBtn navBtn",style:{backgroundColor:"blue"},onClick:x,children:G("joinGame")}),!h&&A&&!b&&!M&&!D&&(0,a.jsx)(c,{inCrazyGames:p,session:_,navbarMode:"home"!==w,openAccountModal:v}),(null==_||null==(r=_.token)?void 0:r.secret)&&!M&&!T&&!D&&!["getready","guess"].includes(null==S||null==(i=S.gameData)?void 0:i.state)&&(0,a.jsx)("button",{className:"gameBtn friendBtn ".concat("home"===w?"friendBtnFixed":""),onClick:y,disabled:!(null==S?void 0:S.connected),children:(0,a.jsx)(l.M5n,{size:40,className:"friendBtnIcon"})})]})]})})}},4679:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(6107);let l={GB:"United Kingdom",US:"United States",RU:"Russia",KR:"South Korea"};function o(e){var n;return null!=(n=l[e])?n:a.JJ(e)}}}]);