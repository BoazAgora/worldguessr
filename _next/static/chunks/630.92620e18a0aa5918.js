"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{6630:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(7876),o=r(4232);function i(e){let{onCountryClick:t,highlightCountry:i,gameState:n}=e,l=(0,o.useRef)(null),c=(0,o.useRef)(null),s=(0,o.useRef)(null);(0,o.useEffect)(()=>(l.current&&!c.current&&u(),()=>{c.current&&(c.current.remove(),c.current=null)}),[]),(0,o.useEffect)(()=>{s.current&&i&&d()},[i,n]);let u=async()=>{try{let e=(await r.e(805).then(r.t.bind(r,6895,19))).default;delete e.Icon.Default.prototype._getIconUrl,e.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});let t=e.map(l.current,{center:[20,0],zoom:2,minZoom:1,maxZoom:6,maxBounds:[[-90,-180],[90,180]],maxBoundsViscosity:1,zoomControl:!0,attributionControl:!1});e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors",noWrap:!0}).addTo(t),p(t,e),c.current=t}catch(e){console.error("Error initializing map:",e)}},p=async(e,r)=>{try{let a=await fetch("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson"),o=await a.json(),l=["United States of America","Canada","Mexico","Brazil","Argentina","Russia","China","India","Australia","Egypt","South Africa","Nigeria","Germany","France","Spain","United Kingdom","Italy","Turkey","Saudi Arabia","Iran","Kazakhstan","Mongolia","Japan","Indonesia","Thailand"],c={"United States":"United States of America","United Kingdom":"United Kingdom",Russia:"Russia","South Africa":"South Africa"},u=o.features.filter(e=>{let t=e.properties.NAME;return l.includes(t)}),p={type:"FeatureCollection",features:u.map(e=>({...e,properties:{...e.properties,name:Object.keys(c).find(t=>c[t]===e.properties.NAME)||e.properties.NAME}}))};s.current=r.geoJSON(p,{style:{fillColor:"#3498db",weight:2,opacity:1,color:"#2c3e50",fillOpacity:.1},onEachFeature:(e,r)=>{r.on("click",()=>{t&&t(e.properties.name)}),r.on("mouseover",()=>{r.setStyle({fillOpacity:.3,weight:3})}),r.on("mouseout",()=>{(e.properties.name!==i||"playing"===n)&&r.setStyle({fillOpacity:.1,weight:2})})}}).addTo(e)}catch(e){console.error("Error loading country boundaries:",e)}},d=()=>{s.current&&i&&s.current.eachLayer(e=>{let t=e.feature.properties.name;t===i&&"wrong"===n?e.setStyle({fillColor:"#2ecc71",fillOpacity:.6,weight:3,color:"#27ae60"}):t===i&&"correct"===n?e.setStyle({fillColor:"#2ecc71",fillOpacity:.4,weight:3,color:"#27ae60"}):e.setStyle({fillColor:"#3498db",fillOpacity:.1,weight:2,color:"#2c3e50"})})};return(0,a.jsx)("div",{ref:l,style:{width:"100%",height:"100%",cursor:"playing"===n?"crosshair":"default"}})}}}]);