"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{6630:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var r=o(7876),l=o(4232);function a(e){let{onCountryClick:t,highlightCountry:a,gameState:i}=e,n=(0,l.useRef)(null),c=(0,l.useRef)(null),s=(0,l.useRef)(null);(0,l.useEffect)(()=>(n.current&&!c.current&&p(),()=>{c.current&&(c.current.remove(),c.current=null)}),[]),(0,l.useEffect)(()=>{s.current&&a&&u()},[a,i]);let p=async()=>{try{let e=(await o.e(805).then(o.t.bind(o,6895,19))).default;delete e.Icon.Default.prototype._getIconUrl,e.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});let t=e.map(n.current,{center:[20,0],zoom:window.innerWidth<768?1:2,minZoom:1,maxZoom:4,maxBounds:[[-90,-180],[90,180]],maxBoundsViscosity:1,zoomControl:window.innerWidth>=768,attributionControl:!1,tap:!0,tapTolerance:15,touchZoom:window.innerWidth>=768,doubleClickZoom:!1,scrollWheelZoom:window.innerWidth>=768,dragging:!0,inertia:!1});e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors",noWrap:!0}).addTo(t),y(t,e),c.current=t}catch(e){console.error("Error initializing map:",e)}},y=async(e,o)=>{try{let r=await fetch("/countryBounds.json"),l=await r.json();s.current=o.geoJSON(l,{style:{fillColor:"#2ecc71",weight:2,opacity:1,color:"#27ae60",fillOpacity:.8},onEachFeature:(e,o)=>{let r=e.properties.name||e.properties.NAME||e.properties.admin;o.on("click",()=>{t&&r&&t(r)}),o.on("mouseover",()=>{"playing"===i&&o.setStyle({fillColor:"#f39c12",color:"#e67e22",weight:3,fillOpacity:1})}),o.on("mouseout",()=>{"playing"===i&&r!==a&&o.setStyle({fillColor:"#2ecc71",color:"#27ae60",weight:2,fillOpacity:.8})})}}).addTo(e)}catch(l){console.error("Error loading country boundaries:",l);let r=m();s.current=o.geoJSON(r,{style:{fillColor:"#2ecc71",weight:2,opacity:1,color:"#27ae60",fillOpacity:.8},onEachFeature:(e,o)=>{o.on("click",()=>{t&&t(e.properties.name)}),o.on("mouseover",()=>{"playing"===i&&o.setStyle({fillColor:"#f39c12",color:"#e67e22",weight:3,fillOpacity:1})}),o.on("mouseout",()=>{"playing"===i&&e.properties.name!==a&&o.setStyle({fillColor:"#2ecc71",color:"#27ae60",weight:2,fillOpacity:.8})})}}).addTo(e)}},u=()=>{s.current&&a&&s.current.eachLayer(e=>{let t=e.feature.properties.name;t===a&&"wrong"===i?e.setStyle({fillColor:"#2ecc71",fillOpacity:.6,weight:3,color:"#27ae60"}):t===a&&"correct"===i?e.setStyle({fillColor:"#2ecc71",fillOpacity:.4,weight:3,color:"#27ae60"}):e.setStyle({fillColor:"#3498db",fillOpacity:.1,weight:2,color:"#2c3e50"})})},m=()=>({type:"FeatureCollection",features:[{type:"Feature",properties:{name:"United States"},geometry:{type:"Polygon",coordinates:[[[-130,50],[-130,25],[-65,25],[-65,30],[-80,35],[-85,45],[-90,48],[-130,50]]]}},{type:"Feature",properties:{name:"Canada"},geometry:{type:"Polygon",coordinates:[[[-140,75],[-140,45],[-52,45],[-52,60],[-75,70],[-95,75],[-140,75]]]}},{type:"Feature",properties:{name:"Brazil"},geometry:{type:"Polygon",coordinates:[[[-75,5],[-75,-35],[-35,-35],[-35,-5],[-50,0],[-60,5],[-75,5]]]}},{type:"Feature",properties:{name:"Russia"},geometry:{type:"Polygon",coordinates:[[[20,75],[20,45],[180,45],[180,75],[150,80],[100,75],[50,70],[20,75]]]}},{type:"Feature",properties:{name:"China"},geometry:{type:"Polygon",coordinates:[[[75,50],[75,18],[135,18],[135,45],[120,50],[105,45],[90,50],[75,50]]]}},{type:"Feature",properties:{name:"Australia"},geometry:{type:"Polygon",coordinates:[[[110,-10],[110,-45],[155,-45],[155,-25],[145,-15],[130,-12],[110,-10]]]}},{type:"Feature",properties:{name:"India"},geometry:{type:"Polygon",coordinates:[[[68,35],[68,8],[97,8],[97,25],[90,30],[85,35],[75,32],[68,35]]]}},{type:"Feature",properties:{name:"Germany"},geometry:{type:"Polygon",coordinates:[[[6,55],[6,47],[15,47],[15,55],[12,54],[9,53],[6,55]]]}},{type:"Feature",properties:{name:"France"},geometry:{type:"Polygon",coordinates:[[[-5,51],[-5,42],[8,42],[8,51],[3,50],[-1,49],[-5,51]]]}}]});return(0,r.jsx)("div",{ref:n,style:{width:"100%",height:"100%",cursor:"playing"===i?"crosshair":"default"}})}}}]);